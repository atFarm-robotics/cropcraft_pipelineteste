version: '3.6'

services:
  crop_yaml_blender:
    container_name: crop_yaml_blender 
    build:
      context: ./cropcraft
      dockerfile: crop.dockerfile
    volumes:
      - ./src:/app/src
  ros:
    container_name: ros noetic
    build:
      context: ./ros
      dockerfile: ros.dockerfile
    volumes: 
      - ./src:/root/catkin_ws/src/
  blender:
    image: lscr.io/linuxserver/blender:latest
    container_name: blender
    security_opt:
      - seccomp:unconfined #optional
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Etc/UTC
      - SUBFOLDER=/ #optional
    volumes:
      - /path/to/config:/config
    ports:
      - 3000:3000
      - 3001:3001
    restart: unless-stopped
  portainer:
    image: portainer/portainer-ce:latest
    ports:
      - 9443:9443
      -
    volumes:
      - data:/data
      - /var/run/docker.sock:/var/run/docker.sock
    restart: unless-stopped

volumes:
  data:
  